C51 COMPILER V9.60.7.0   LED                                                               06/13/2025 19:53:14 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE LED
OBJECT MODULE PLACED IN .\Objects\led.obj
COMPILER INVOKED BY: F:\keil_5\C51\BIN\C51.EXE ..\Driver\led.c OPTIMIZE(8,SPEED) BROWSE INCDIR(..\Driver) DEBUG OBJECTEX
                    -TEND PRINT(.\Listings\led.lst) TABS(2) OBJECT(.\Objects\led.obj)

line level    source

   1          #include "led.h"
   2          
   3          idata unsigned char temp_0 = 0x00;
   4          idata unsigned char temp_0_Old = 0xff;
   5          
   6          void Led_Disp(unsigned char *Led_Buf)
   7          {
   8   1        unsigned char temp;
   9   1        temp_0 = 0x00;
  10   1        temp_0 = (Led_Buf[0] << 0) | (Led_Buf[1] << 1) | (Led_Buf[2] << 2) | (Led_Buf[3] << 3)
  11   1                |(Led_Buf[4] << 4) | (Led_Buf[5] << 5) | (Led_Buf[6] << 6) | (Led_Buf[7] << 7);
  12   1        if(temp_0 != temp_0_Old)
  13   1        {
  14   2          P0 = ~temp_0;
  15   2          
  16   2          //开锁存器
  17   2          temp = P2 & 0x1f;
  18   2          temp |= 0x80;
  19   2          P2 = temp;
  20   2          //关锁存器
  21   2          temp = P2 & 0x1f;
  22   2          P2 = temp;
  23   2          
  24   2          temp_0_Old = temp_0;
  25   2        }
  26   1      }
  27          void Led_Off()
  28          {
  29   1        unsigned char temp;
  30   1        P0 = 0xff;
  31   1          
  32   1        //开锁存器
  33   1        temp = P2 & 0x1f;
  34   1        temp |= 0x80;
  35   1        P2 = temp;
  36   1        //关锁存器
  37   1        temp = P2 & 0x1f;
  38   1        P2 = temp;  
  39   1        
  40   1        temp_0_Old = 0x00;
  41   1      } 
  42          
  43          idata unsigned char temp_1 = 0x00;
  44          idata unsigned char temp_1_Old = 0xff;
  45          
  46          void Beep(bit enable)
  47          {
  48   1        unsigned char temp;
  49   1        if(enable)
  50   1          temp_1 |= 0x40;
  51   1        else
  52   1          temp_1 &= ~(0x40);
  53   1        if(temp_1 != temp_1_Old)
  54   1        {
C51 COMPILER V9.60.7.0   LED                                                               06/13/2025 19:53:14 PAGE 2   

  55   2          P0 = temp_1;
  56   2          
  57   2          //开锁存器
  58   2          temp = P2 & 0x1f;
  59   2          temp |= 0xa0;
  60   2          P2 = temp;
  61   2          //关锁存器
  62   2          temp = P2 & 0x1f;
  63   2          P2 = temp;
  64   2          
  65   2          temp_1_Old = temp_1;
  66   2        }
  67   1      }
  68          void Motor(bit enable)
  69          {
  70   1        unsigned char temp;
  71   1        if(enable)
  72   1          temp_1 |= 0x20;
  73   1        else
  74   1          temp_1 &= ~(0x20);
  75   1        if(temp_1 != temp_1_Old)
  76   1        {
  77   2          P0 = temp_1;
  78   2          
  79   2          //开锁存器
  80   2          temp = P2 & 0x1f;
  81   2          temp |= 0xa0;
  82   2          P2 = temp;
  83   2          //关锁存器
  84   2          temp = P2 & 0x1f;
  85   2          P2 = temp;
  86   2          
  87   2          temp_1_Old = temp_1;
  88   2        }
  89   1      }
  90          void Relay(bit enable)
  91          {
  92   1        unsigned char temp;
  93   1        if(enable)
  94   1          temp_1 |= 0x10;
  95   1        else
  96   1          temp_1 &= ~(0x10);
  97   1        if(temp_1 != temp_1_Old)
  98   1        {
  99   2          P0 = temp_1;
 100   2          
 101   2          //开锁存器
 102   2          temp = P2 & 0x1f;
 103   2          temp |= 0xa0;
 104   2          P2 = temp;
 105   2          //关锁存器
 106   2          temp = P2 & 0x1f;
 107   2          P2 = temp;
 108   2          
 109   2          temp_1_Old = temp_1;
 110   2        }
 111   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    286    ----
   CONSTANT SIZE    =   ----    ----
C51 COMPILER V9.60.7.0   LED                                                               06/13/2025 19:53:14 PAGE 3   

   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =      4    ----
   BIT SIZE         =   ----       3
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
